{
  "payload": {
    "body": {
      "query": {
        "filtered": {
          "query": {
            "query_string": {
              "query": "*",
              "analyze_wildcard": "true"
            }
          }
        }
      },
      "aggs": {
        "2": {
          "range": {
            "script": "doc['download_data'].value + doc['upload_data'].value",
            "lang": "expression",
            "ranges": [
              {"from": 0, "to": 1048576},
              {"from": 1048576, "to": 5242880},
              {"from": 10485760, "to": 5242880},
              {"from": 104857600, "to": 10485760},
              {"from": 1073741824, "to": 104857600}
            ],
            "keyed": true
          }
        }
      }
    }
  }
}